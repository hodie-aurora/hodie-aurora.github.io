---
layout:     post   				# 使用的布局（不需要改）
title:      Kubemate             		# 标题 
subtitle:   Kubemate				#副标题
date:       2025-06-03				# 时间
author:     zhaohaiwen 				# 作者
header-img: img/post-bg-2025-01-07.jpg		#这篇文章标题背景图片
catalog: true 					# 是否归档
tags:						#标签
    - Kubemate
---
## 项目名称：Kubemate

**项目概述**
Kubemate 是一个企业级 Kubernetes 管理与 AI 基础设施平台，专为微服务和 AI 工作负载设计，提供运维、监控、告警、日志分析、链路追踪、模型部署及云环境巡检功能。项目采用 Go 语言开发，利用其高并发特性，封装 Kubernetes 复杂性，结合 CI/CD 流水线、定制仪表盘、分布式日志与链路追踪及 AI 工作流支持，为用户提供直观的管理控制台和自动化工具，降低集群管理和 AI 应用部署的门槛。Kubemate 最初专注于 Kubernetes 集群监控和运维，后逐步扩展功能，本人负责过该项目在 7 家金融机构的生产环境上云，验证了其高可用性和适配能力。本项目也部署在 ERP 环境中，由我与另一名运维人员共同维护。

**技术栈**

- **后端**：Go (Gin 框架)、Kubernetes API
- **前端**：Vue3 + PrimeVue
- **存储与数据库**：MinIO (S3 兼容存储)、Milvus (向量数据库)、Redis (高性能缓存)
- **监控与告警**：Prometheus (高可用，Thanos 分布式存储)、Alertmanager (多渠道告警)
- **日志与链路追踪**：Loki + Promtail (日志收集与分析)、OpenTelemetry + Jaeger (轻量级分布式追踪，替换旧技术栈 SkyWalking)
- **网关与服务网格**：Traefik (高性能网关)、Linkerd (服务网格)
- **AI 基础设施**：Ollama (大模型部署与推理服务)、Kubeflow (Pipeline、训练、部署)、NVIDIA GPU Operator (GPU 资源调度与加速)
- **云环境巡检**：Ansible (基础巡检)、Go (goroutine 分布式采集，高级巡检)
- **CI/CD**：Tekton (云原生流水线)、Jenkins (传统流水线集成)
- **其他**：RBAC (权限控制)、多租户支持

**核心功能**

1. **自动化 Kubernetes 管理与 CI/CD 流水线**
   通过 Tekton 和 Jenkins 构建 CI/CD 流水线，用户提交代码到 Git 仓库，平台自动触发镜像构建、推送至私有镜像仓库并部署到 Kubernetes 集群，支持多环境（dev/staging/prod）管理。Go 开发的 API 服务简化 Kubernetes 操作，降低用户使用门槛。RBAC 权限控制和 Namespace 隔离确保团队资源安全。
2. **高可用监控与告警**
   部署 Prometheus 高可用架构，结合 Thanos 实现跨集群指标存储和查询，监控集群资源。定制 Vue3 仪表盘（基于 PrimeVue）展示集群健康和应用性能，Alertmanager 集成支持邮件和短信告警，及时通知异常状态。
3. **分布式日志与链路追踪**
   通过 Promtail 和 Loki 实现日志收集与查询，OpenTelemetry + Jaeger 提供轻量级分布式链路追踪，替换 SkyWalking 以降低资源占用。链路追踪支持微服务和 AI 推理请求分析，生成服务依赖拓扑图，辅助故障排查。
4. **服务网格与流量管理**
   集成 Traefik 提供高性能网关，Linkerd 提供基础版服务网格，支持负载均衡和通信安全。Linkerd 的轻量设计适合中小型集群，简化流量管理。
5. **AI 基础设施（基础版）**
   通过 Ollama 部署大模型，支持推理服务和 RAG 场景。用户上传文档，平台自动拆分、生成嵌入向量并存储到 Milvus，支持高效向量搜索。MinIO 提供 S3 兼容存储，存储模型权重和数据集；Redis 缓存推理结果，加速数据访问。Prometheus 监控模型推理和资源使用，定制仪表盘展示相关状态，简化用户操作流程。
6. **AI 基础设施（高级版）**
   在基础版基础上，新增 Kubeflow 支持模型微调。用户上传文档，平台自动拆分、生成嵌入向量并存储到 Milvus，支持 RAG 查询。基于 Hugging Face Transformers 和 PEFT（LoRA）进行参数高效微调，结合 Kubeflow PyTorchJob 运行分布式训练。通过 KFServing 部署微调后的模型，支持高并发推理。Kubeflow Katib 自动化调优 LoRA 参数，覆盖 AI 开发全生命周期，适用于金融风控、客服自动化等场景。
7. **GPU 调度与加速**
   集成 NVIDIA GPU Operator，支持 Kubernetes 集群中的 GPU 资源调度和加速。动态 GPU 分配满足 AI 工作负载需求。
8. **云环境巡检**
   使用 Ansible 自动化巡检 Kubernetes 集群，检查节点状态、Pod 健康性和配置合规性。基于 Go 的 goroutine 分布式巡检框架实时采集集群指标，结合 Prometheus 进行异常检测，支持多集群监控，辅助运维人员快速定位问题。
9. **用户界面**
   使用 Vue3 和 PrimeVue 开发定制管理控制台，支持集群管理、AI 任务调度和监控数据可视化。集成 Kubeflow Central Dashboard（高级版），展示 AI 工作流状态，提供一站式用户体验。

**应用场景**

- **微服务管理**：提供 Kubernetes 集群管理工具，支持微服务架构的部署和运维。
- **AI 工作负载**：支持大模型推理、RAG 和模型微调，适用于金融风控、客服自动化等场景。
- **企业级运维**：通过监控、日志和链路追踪，满足生产环境需求，已在 7 家金融机构部署，运行稳定。
- **ERP 环境维护**：部署在 ERP 环境中，满足企业资源管理需求。

**角色与贡献**

- **项目开发**：从项目初期参与，开发 Kubernetes 监控、操作和运维功能，使用 Go（Gin 框架）实现核心模块，包括自动化部署、监控、告警和日志功能。
- **功能扩展**：逐步扩展项目功能，新增分布式日志、链路追踪和云环境巡检模块，优化用户体验和系统性能。
- **AI 工作流**：带领两名硕士实习生，基于 Ollama（基础版）和 Kubeflow（高级版）实现文档处理、模型微调和推理功能，简化 AI 部署流程。
- **前端开发**：使用 Vue3 和 PrimeVue 开发定制管理控制台，集成 Kubernetes 和 Kubeflow API，提供直观操作界面。
- **生产部署**：参与 7 家金融机构的生产环境部署和私有云上云技术支持，协助优化系统稳定性和故障排查。
- **ERP 维护**：与另一名运维人员共同维护 Kubemate 在 ERP 环境中的部署，确保系统稳定运行。
